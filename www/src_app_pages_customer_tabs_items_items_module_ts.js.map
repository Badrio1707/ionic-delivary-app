{"version":3,"file":"src_app_pages_customer_tabs_items_items_module_ts.js","mappings":"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","sources":["./src/app/components/item/item.component.ts","./src/app/components/restaurant-detail/restaurant-detail.component.ts","./src/app/pages/customer/tabs/items/items-routing.module.ts","./src/app/pages/customer/tabs/items/items.module.ts","./src/app/pages/customer/tabs/items/items.page.ts"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-item',\n  templateUrl: './item.component.html',\n  styleUrls: ['./item.component.scss'],\n})\nexport class ItemComponent implements OnInit {\n\n  @Input() product: any;\n  @Input() index: any;\n  @Output() add: EventEmitter<any> = new EventEmitter();\n  @Output() minus: EventEmitter<any> = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit() {}\n\n  quantityPlus() {\n    this.add.emit(this.index);\n  }\n\n  quantityMinus() {\n    this.minus.emit(this.index);\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-restaurant-detail',\n  templateUrl: './restaurant-detail.component.html',\n  styleUrls: ['./restaurant-detail.component.scss'],\n})\nexport class RestaurantDetailComponent implements OnInit {\n\n  @Input() data: any;\n  @Input() isLoading;\n\n  constructor() { }\n\n  ngOnInit() {}\n\n  getCuisine(cuisine) {\n    return cuisine.join(', ');\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ItemsPage } from './items.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ItemsPage\n  },  \n  {\n    path: 'cart',\n    loadChildren: () => import('./../cart/cart.module').then( m => m.CartPageModule)\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ItemsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ItemsPageRoutingModule } from './items-routing.module';\n\nimport { ItemsPage } from './items.page';\nimport { ItemComponent } from 'src/app/components/item/item.component';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { RestaurantDetailComponent } from 'src/app/components/restaurant-detail/restaurant-detail.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ItemsPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [ItemsPage, ItemComponent, RestaurantDetailComponent]\n})\nexport class ItemsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController, NavController, Platform } from '@ionic/angular';\nimport { Preferences } from '@capacitor/preferences';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { GlobalService } from 'src/app/services/global/global.service';\n\n@Component({\n  selector: 'app-items',\n  templateUrl: './items.page.html',\n  styleUrls: ['./items.page.scss'],\n})\nexport class ItemsPage implements OnInit {\n\n  id: any;\n  data: any = {};\n  items: any[] = [];\n  veg: boolean = false;\n  isLoading: boolean;\n  cartData: any = {};\n  storedData: any = {};\n  model = {\n    icon: 'fast-food-outline',\n    title: 'No Menu Available'\n  };\n\n  carts:any[] = [];\n\n  productStore:any[] = [];\n  stores:any = {};\n\n  constructor(\n    private api: ApiService,\n    private navCtrl: NavController,\n    private route: ActivatedRoute,\n    private router: Router,\n    private global: GlobalService,\n    private platform: Platform,\n  ) { }\n\n  ionViewDidEnter() {\n    this.platform.backButton.subscribeWithPriority(0, () => {\n      this.navCtrl.navigateForward('/c-tabs')\n    });\n  }\n\n  ngOnInit() {\n    this.route.paramMap.subscribe(paramMap => {\n      console.log('data: ', paramMap);\n      if(!paramMap.has('restaurantId')) {\n        this.navCtrl.back();\n        return;\n      }\n      this.id = paramMap.get('restaurantId');\n      console.log('id: ', this.id);\n    });\n    this.getProductByStore();\n    this.GetDataStore()\n    this.getData();\n  }\n\n  GetDataStore(){\n    this.api.getStoreById(this.id).subscribe( (res:any)=>{\n      this.stores = res\n      console.log('store: ',this.stores)\n    })\n  }\n\n  getProductByStore(){\n    this.api.productByStore(this.id).subscribe( (res:any) =>{\n      this.productStore = res['data']\n      console.log('product: ',this.productStore)\n    })\n  }\n\n\n  getCart() {\n    return Preferences.get({key: 'cart'});\n  }\n\n  async getData() {\n    this.isLoading = true;\n    this.data = {};\n    this.cartData = {};\n    this.storedData = {};\n    setTimeout(async() => {      \n      let data: any = this.stores;\n      this.data = data;\n  //     this.categories = this.categories.filter(x => x.uid === this.id );\n  //     this.items = this.allItems.filter(x => x.uid === this.id);\n      console.log('restaurant: ', this.data);\n      let cart: any = await this.getCart();\n      console.log('cart: ', cart);\n      if(cart?.value) {\n        this.storedData = JSON.parse(cart.value);\n        console.log('storedData: ', this.storedData);\n        if(this.id == this.storedData.store.id_tms && this.productStore.length > 0) {\n          this.productStore.forEach((element: any) => {\n            this.storedData.productStore.forEach(ele => {\n              if(element.id_ttps != ele.id_ttps) return;\n              element.quantity = ele.quantity;\n            })\n          })\n        }\n        this.cartData.totalProduct = this.storedData.totalProduct;\n        this.cartData.totalPrice = this.storedData.totalPrice;\n      }\n      this.isLoading = false;\n    }, 1500);\n  }\n\n  // vegOnly(event) {\n  //   console.log(event.detail.checked);\n  //   this.items = [];\n  //   if(event.detail.checked == true) this.items = this.allItems.filter(x => x.veg === true);\n  //   else this.items = this.allItems;\n  //   console.log('items: ', this.items);\n  // }\n\n  async quantityPlus(index) {\n    let token = localStorage.getItem('token');\n    if(!token){\n      this.global.alertLogin(\"Silahkan Login terlebih dahulu untuk pesan makanan\")\n      }else{\n        try {\n          // console.log(this.productStore[index]);\n          if(!this.productStore[index].quantity || this.productStore[index].quantity == 0) {\n            this.productStore[index].quantity = 1;\n          } else {\n            this.productStore[index].quantity += 1; // this.productStore[index].quantity = this.productStore[index].quantity + 1\n          }\n          this.calculate();\n          await this.saveToCart()\n        } catch(e) {\n          console.log(e);\n        }\n      }\n  }\n\n  async quantityMinus(index) {\n    if(this.productStore[index].quantity !== 0) {\n      this.productStore[index].quantity -= 1; // this.productStore[index].quantity = this.productStore[index].quantity - 1\n    } else {\n      this.productStore[index].quantity = 0;\n    }\n    this.calculate();\n    await this.saveToCart()\n  }\n  \n\n\n  async calculate() {\n    console.log(this.productStore);\n    this.cartData.productStore = [];\n    let product = this.productStore.filter(x => x.quantity > 0);\n    console.log('added productStore: ', product);\n    this.cartData.productStore = product;\n    this.cartData.totalPrice = 0;\n    this.cartData.totalProduct = 0;\n    product.forEach(element => {\n      this.cartData.totalProduct += element.quantity;\n      this.cartData.totalPrice += (parseFloat(element.price_ttps) * parseFloat(element.quantity));\n    });\n    this.cartData.totalPrice = parseFloat(this.cartData.totalPrice);\n    if(this.cartData.totalProduct == 0) {\n      this.cartData.totalProduct = 0;\n      this.cartData.totalPrice = 0;\n    await this.saveToCart \n      // this.cartData = {}\n    }\n    console.log('cart: ', this.cartData);\n  }\n\n  async saveToCart() {\n    try {\n      this.cartData.store = {};\n      this.cartData.store = this.stores;\n      console.log('cartData', this.cartData);\n      // localStorage.setItem('cart', JSON.stringify(this.cartData));\n      await Preferences.set({\n        key: 'cart',\n        value: JSON.stringify(this.cartData)\n      });\n       // Tambahkan kode berikut untuk menghapus data keranjang dari penyimpanan preferensi jika tidak ada produk tersisa\n    if (this.cartData.productStore.length === 0) {\n      await Preferences.remove({ key: 'cart' });\n    }\n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n  async viewCart() {\n    if(this.cartData.productStore && this.cartData.productStore.length > 0) await this.saveToCart();\n    console.log('router url: ', this.router.url);\n    this.router.navigate([this.router.url + '/cart']);\n  }\n  \n  rupiah(val){\n    return this.global.formatRupiah(val)\n  }\n\n\n\n\n  \n\n  \n\n}\n"],"names":["Component","ActivatedRoute","Router","NavController","Platform","Preferences","ApiService","GlobalService","ItemsPage","constructor","api","navCtrl","route","router","global","platform","icon","title","ionViewDidEnter","backButton","subscribeWithPriority","navigateForward","ngOnInit","paramMap","subscribe","console","log","has","back","id","get","getProductByStore","GetDataStore","getData","getStoreById","res","stores","productByStore","productStore","getCart","key","isLoading","data","cartData","storedData","setTimeout","cart","value","JSON","parse","store","id_tms","length","forEach","element","ele","id_ttps","quantity","totalProduct","totalPrice","quantityPlus","index","token","localStorage","getItem","alertLogin","calculate","saveToCart","e","quantityMinus","product","filter","x","parseFloat","price_ttps","set","stringify","remove","viewCart","url","navigate","rupiah","val","formatRupiah","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}