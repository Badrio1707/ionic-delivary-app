{"version":3,"file":"src_app_pages_seller_s-tabs_order-detail_order-detail_module_ts.js","mappings":"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","sources":["./src/app/pages/seller/s-tabs/order-detail/order-detail-routing.module.ts","./src/app/pages/seller/s-tabs/order-detail/order-detail.module.ts","./src/app/pages/seller/s-tabs/order-detail/order-detail.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderDetailPage } from './order-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderDetailPageRoutingModule } from './order-detail-routing.module';\n\nimport { OrderDetailPage } from './order-detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderDetailPageRoutingModule\n  ],\n  declarations: [OrderDetailPage]\n})\nexport class OrderDetailPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { GlobalService } from 'src/app/services/global/global.service';\n\n@Component({\n  selector: 'app-order-detail',\n  templateUrl: './order-detail.page.html',\n  styleUrls: ['./order-detail.page.scss'],\n})\nexport class OrderDetailPage implements OnInit {\n\n  id:any\n  orders:any\n  store = ''\n  inv = ''\n  customer = ''\n  cAddress = ''\n  sAddress = ''\n  status = ''\n  date = ''\n  time = ''\n  ongkir = 0\n  harga = 0\n  total = 0\n\n  constructor(\n    private route: ActivatedRoute,\n    private navCtrl: NavController,\n    private api: ApiService,\n    private global: GlobalService,\n\n\n  ) { }\n\n  ngOnInit() {\n    this.route.paramMap.subscribe(paramMap => {\n      console.log('data: ', paramMap);\n      if(!paramMap.has('id')) {\n        this.navCtrl.back();\n        return;\n      }\n      this.id = paramMap.get('id');\n      console.log('id: ', this.id);\n    });\n    this.getOrderDetail();\n  }\n\n  getOrderDetail(){\n    this.api.getOrderDetail(this.id).subscribe(\n      (res:any) => {\n        this.store = res[0].name_tms\n        this.inv = res[0].transaction_ttop\n        this.customer = res[0].name_ttca\n        this.cAddress = res[0].static_ttca + ', ' + res[0].dynamic_ttca\n        this.sAddress = res[0].address_tms\n        this.status = res[0].status_ttop\n        this.date = res[0].date\n        this.time = res[0].time\n        this.orders = res\n        console.log(this.cAddress)\n         // Menghitung harga\n        this.harga = 0;\n        for (let order of this.orders) {\n          this.harga += order.price_ttps * order.qty_ttop;\n        }\n\n        // Menambahkan ongkir ke total\n        this.total = this.harga + this.ongkir;\n\n        console.log(\"Harga:\", this.harga);\n        console.log(\"Total:\", this.total);\n      }\n    )\n  }\n\n  async takeOrder(){\n    this.api.takeOrder(this.id).subscribe(\n      (res:any) => {\n        console.log(res)\n        this.global.showAlert('Anda telah menerima pesanan, chat customer sekarang', 'Berhasil', [\n          {\n            text: 'Okay',\n            handler: () => {\n              this.global.showLoader('','bubbles')\n              this.getOrderDetail()\n            }\n          }\n        ])\n      },\n      error =>{\n        this.global.showAlert('Terjadi kesalahan', 'Gagal')\n        console.log(error)\n      }\n    )\n  }\n\n  refusemOrder(){\n\n  }\n\n  rupiah(val){\n    return this.global.formatRupiah(val)\n  }\n\n\n\n}\n"],"names":["Component","ActivatedRoute","NavController","ApiService","GlobalService","OrderDetailPage","constructor","route","navCtrl","api","global","ngOnInit","paramMap","subscribe","console","log","has","back","id","get","getOrderDetail","res","store","name_tms","inv","transaction_ttop","customer","name_ttca","cAddress","static_ttca","dynamic_ttca","sAddress","address_tms","status","status_ttop","date","time","orders","harga","order","price_ttps","qty_ttop","total","ongkir","takeOrder","showAlert","text","handler","showLoader","error","refusemOrder","rupiah","val","formatRupiah","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}