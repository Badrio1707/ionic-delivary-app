{"version":3,"file":"src_app_pages_customer_tabs_address_address_module_ts.js","mappings":"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","sources":["./src/app/components/modals/add-address/add-address.component.ts","./src/app/components/modals/edit-address/edit-address.component.ts","./src/app/pages/customer/tabs/address/address-routing.module.ts","./src/app/pages/customer/tabs/address/address.module.ts","./src/app/pages/customer/tabs/address/address.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-add-address',\n  templateUrl: './add-address.component.html',\n  styleUrls: ['./add-address.component.scss'],\n})\nexport class AddAddressComponent implements OnInit {\n\n\n\n  ngOnInit() {}\n\n  form:any = {\n  }\n\n  constructor(private modalCtrl: ModalController) {}\n\n  cancel() {\n    return this.modalCtrl.dismiss(null, 'cancel');\n  }\n\n  confirm() {\n    return this.modalCtrl.dismiss(this.form, 'confirm');\n  }\n\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\n\n@Component({\n  selector: 'app-edit-address',\n  templateUrl: './edit-address.component.html',\n  styleUrls: ['./edit-address.component.scss'],\n})\nexport class EditAddressComponent implements OnInit {\n\n  constructor(\n    private modalCtrl: ModalController,\n    private api: ApiService\n    ) {}\n\n    @Input() id:any\n\n    addresses:any\n\n    form: any = {\n      name_ttca: '',\n      phone_ttca: '',\n      static_ttca: '',\n      dynamic_ttca: ''\n    };\n\n  \n  ngOnInit() {\n    this.getAddresses()\n    console.log(this.id)\n  }\n\n  getAddresses() {    \n    this.api.getUserAddress().subscribe(\n      (res: any) => {\n        const allAddresses = res['data'];\n        const filteredAddresses = allAddresses.filter(address => address.id_ttca === this.id);\n        \n        if (filteredAddresses.length > 0) {\n          this.form = filteredAddresses[0];\n          console.log(this.form);\n        }\n      }\n    );\n  }\n\n  \n\n\n  cancel() {\n    return this.modalCtrl.dismiss(null, 'cancel');\n  }\n\n  confirm() {\n    return this.modalCtrl.dismiss(this.form, 'confirm');\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddressPage } from './address.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddressPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddressPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddressPageRoutingModule } from './address-routing.module';\n\nimport { AddressPage } from './address.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddressPageRoutingModule,\n    CommonModule\n  ],\n  declarations: [AddressPage]\n})\nexport class AddressPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { IonModal } from '@ionic/angular';\nimport { AddAddressComponent } from 'src/app/components/modals/add-address/add-address.component';\nimport { EditAddressComponent } from 'src/app/components/modals/edit-address/edit-address.component';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { GlobalService } from 'src/app/services/global/global.service';\n\n@Component({\n  selector: 'app-address',\n  templateUrl: './address.page.html',\n  styleUrls: ['./address.page.scss'],\n})\nexport class AddressPage implements OnInit {\n\n  @ViewChild(IonModal) modal: IonModal;\n\n  isLoading: boolean;\n  addresses: any[];\n\n  form:any = {\n  }\n\n  constructor(\n    private api: ApiService,\n    private global: GlobalService\n  ) { }\n\n  ngOnInit() {\n    this.getAddresses();\n  }\n\n  cancel() {\n    this.modal.dismiss(null, 'cancel');\n    this.form.name_ttps = ''\n    this.form.phone_ttps = ''\n    this.form.static_ttps = ''\n    this.form.dynamic_ttps = ''\n  }\n\n  getAddresses() {    \n    this.isLoading = true;\n    setTimeout(() => {\n      this.api.getUserAddress().subscribe(\n        (res:any) => {\n          this.addresses = res['data']\n          console.log(res['data'])\n        }\n      )\n      this.isLoading = false;\n    }, 2000);\n\n    // console.log(this.addresses)\n  }\n\n  reloadPrev() {\n    this.global.reloadPrev()\n  }\n\n  async addAddress(){\n    try{\n      const options = {\n        component: AddAddressComponent,\n        swipeToClose: true\n      };\n      const address = await this.global.createModal(options)\n      if(address){\n        this.api.createAddress(address).subscribe(\n          async (res:any) => {\n            this.global.showLoader()\n            console.log(\"Success: \", res)\n            this.getAddresses()\n          },async (error) =>{\n            this.global.showAlert('Tambah Alamat gagal periksa kembali', \"Gagal\")\n            console.log(\"Gagal: \", error)\n          }\n        )\n      }\n      \n    } catch(e) {\n      console.log(e)\n    }\n\n\n  }\n\n  async editAddress(id) {\n    try{\n      const options = {\n        component: EditAddressComponent,\n        swipeToClose: true,\n        componentProps: {\n          id: id\n        }\n      };\n      const address = await this.global.createModal(options)\n      console.log(address.id_ttca)\n      if(address){\n        this.api.updateAddress(address).subscribe(\n          async (res:any) => {\n            this.global.showLoader()\n            console.log(\"Success: \", res)\n            this.getAddresses()\n          },(error) =>{\n            this.global.showAlert('Ubah Alamat gagal periksa kembali', \"Gagal\")\n            console.log(\"Gagal: \", error)\n          }\n        )\n      }\n      \n    } catch(e) {\n      console.log(e)\n    }\n  }\n\n  deleteAddress(id:any) {\n    try{\n      this.global.showAlert(\"Apakah anda yakin ingin menghapus alamat ini?\", \"Konfirmasi\",[\n        {\n          text: \"Batal\",\n          role: \"cancel\",\n          handler: ()=> {\n\n          }\n        },\n        {\n          text: \"Hapus\",\n          handler:() => {\n            this.api.deleteAddress(id).subscribe((res:any) => {\n              this.global.showLoader()\n              this.global.showAlert(\"Alamat berhasil dihapus\", 'Berhasil')\n              this.getAddresses()\n            },(error:any) => {\n              console.log(error)\n            })\n          }\n        }\n      ])\n    }catch(e) {\n      throw(e)\n    }\n  }\n\n}\n"],"names":["Component","ViewChild","IonModal","AddAddressComponent","EditAddressComponent","ApiService","GlobalService","AddressPage","constructor","api","global","ngOnInit","getAddresses","cancel","modal","dismiss","form","name_ttps","phone_ttps","static_ttps","dynamic_ttps","isLoading","setTimeout","getUserAddress","subscribe","res","addresses","console","log","reloadPrev","addAddress","options","component","swipeToClose","address","createModal","createAddress","showLoader","error","showAlert","e","editAddress","id","componentProps","id_ttca","updateAddress","deleteAddress","text","role","handler","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}